<div *ngIf="loading">
  <app-loader></app-loader>
</div>
<div class="container" style="padding-top: 10%;">
  <div class="row d-flex justify-content-center ">
    <div class="col-11 col-sm-10 col-md-8 col-lg-5 col-xl-4 beat-algo d-flex justify-content-center">
      <span>PASO 2 DE 3</span>
    </div>
  </div>
  <div class="row d-flex justify-content-center">
    <div class="col-12 col-sm-11 col-md-10 col-lg-7 col-xl-7 text-center">
      <h2 class="sections-titles">Selecciona tu lugar</h2>
    </div>
  </div>
  <div class="row d-flex justify-content-center mb-5">
    <div class="col-12 col-sm-11 col-md-10 col-lg-7 col-xl-6 d-flex justify-content-center">
      <p class="sections-info-text">Elige tu lugar favorito.</p>
    </div>
  </div>
  <div class="row pt-md-5 mb-5">
    <div class="col-12 col-sm-12 col-md-12 col-lg-9 col-xl-9">
      <div class="row">
        <div class="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
          <h5 class="title_top_">D√çA</h5>
          <label class="title_down_" *ngIf="horario">{{horario.fecha | customDate}}</label>
        </div>
        <div class="col-12 col-sm-12 col-md-8 col-lg-8 col-xl-8">
          <div class="row">
            <div class="col-12 col-sm-12 col-md-3 col-lg-3 col-xl-3">
              <h5 class="title_top_">HORARIO</h5>
              <label class="title_down_" *ngIf="horario">{{horario.fecha | date:'mediumTime'}}</label>
            </div>
            <div class="col-12 col-sm-12 col-md-3 col-lg-3 col-xl-3">
              <h5 class="title_top_">COACH</h5>
              <label class="title_down_" *ngIf="horario">{{horario.coach.nombre}}</label>
            </div>
            <div class="col-12 col-sm-12 col-md-3 col-lg-3 col-xl-3">
              <h5 class="title_top_">TU CLASE</h5>
              <label class="title_down_" *ngIf="horario"><span>Beat</span> {{horario.disciplina.nombre}}</label>
            </div>
            <!--Boton para imprimir-->
            <div class="col-12 col-sm-12 col-md-3 col-lg-3 col-xl-3" *ngIf="user.role === '1'">
              <button mat-stroked-button class="mr-3 button-new" (click)="imprimir()">
                Imprimir Lista
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row d-flex justify-content-center">
    <div class="col-asientos">
      <div class="py-5">
        <div *ngFor="let row of asientos">
          <div class="row d-flex" [ngClass]="checkClass(row)">
            <div class="col-button d-flex d-flex justify-content-center" *ngFor="let item of row">
              <div *ngIf="item.coach" class="coach-seat align-self-center">
              </div>
              <button *ngIf="!item.coach" mat-mini-fab class="seat-format align-self-center m-sm-1 m-md-2 my-1"
                id="{{'btn' + item.numero}}" [ngClass]="{hide_circle: !item.visible}" (mouseenter)="hover(item.numero)"
                (mouseleave)="leave(item.numero)" [disabled]="item.ocupado" (click)="checarOcupado(item)">
                {{ item.numero }}
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-amigos pt-4 pr-3 pl-3 pb-3" style="overflow: auto;">
      <div class="row">
        <div class="col-12">
          <div class="div-personas" id="nombrePrincipal" [ngStyle]="{'border-bottom': '2px solid ' + colors[0]}">
            <span [hidden]="numero === 0" id="labelPrincipal" class="sit-number mat_number">{{numero}}</span>
            <span class="name">{{cliente.nombre}} {{cliente.apellido}}</span>
          </div>
        </div>
      </div>
      <div class="row" *ngFor="let a of amigos; let i = index">
        <div class="col-12">
          <div class="div-personas" [ngStyle]="{'border-bottom': '2px solid ' + colors[i+1]}">
            <span [hidden]="a.lugar === 0" class="sit-number" [ngStyle]="{'color': colors[i+1]}"
              id="{{a.lugar + 'numero'}}">{{a.lugar}}</span>
            <div class="name"><input type="text" placeholder="Escribe el nombre de tu amigo" [(ngModel)]="a.nombre">
            </div>
            <div class="remove-button" (click)="removeFriend(i)">
              <div>&times;</div>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="!ilimitados" class="row mt-1 mb-2" [attr.disabled]="seleccionado">
        <div class="col-12">
          <button class="add-friend" [disabled]="!seleccionado || !seleccionado_amigo" (click)="addFriend()">Invitar un
            amigo +</button>
        </div>
      </div>

    </div>
  </div>
  <div class="row d-flex justify-content-center" style="padding-bottom: 10%;padding-top: 8%;">
    <button mat-stroked-button class="mr-3 button-new" (click)="regresar()">
      <mat-icon>keyboard_arrow_left</mat-icon>REGRESAR
    </button>
    <button mat-stroked-button class="button-new" (click)="validate()">SIGUIENTE<mat-icon>keyboard_arrow_right
      </mat-icon></button>
  </div>
</div>